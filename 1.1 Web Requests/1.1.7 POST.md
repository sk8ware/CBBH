
---

## ğŸ”½ POST - HTTP Request Method

---

### ğŸ“Œ Â¿Por quÃ© usar POST en lugar de GET?

A diferencia de `GET`, que coloca los parÃ¡metros en la URL, `POST` los coloca en el cuerpo de la solicitud. Esto trae 3 ventajas clave:

#### âœ… 1. **Lack of Logging**

- Las URLs suelen quedar registradas en logs.
    
- Si enviamos archivos grandes o datos sensibles, usar `POST` evita que esos datos aparezcan en los logs del servidor.
    

#### âœ… 2. **Less Encoding Requirements**

- Los datos en URL necesitan codificaciÃ³n especial (`%20`, `+`, etc.).
    
- Con `POST`, los datos van en el body y pueden incluir binarios (ej. imÃ¡genes, PDFs) sin tanta codificaciÃ³n.
    

#### âœ… 3. **More Data Can Be Sent**

- Las URLs tienen lÃ­mites (~2000 caracteres).
    
- El body de un `POST` no tiene esa limitaciÃ³n, lo que permite enviar payloads mÃ¡s grandes.
    

---

### ğŸ§ª POST Login con cURL

**Formulario en `index.php` con usuario y contraseÃ±a:**

```bash
curl -X POST -d 'username=admin&password=admin' http://<IP>:<PORT>/
```

ğŸ” Para seguir redirecciones (como a `/dashboard.php`):

```bash
curl -L -X POST -d 'username=admin&password=admin' http://<IP>:<PORT>/
```

---

### ğŸª Manejo de Cookies (AutenticaciÃ³n persistente)

**1. Ver la cookie tras el login:**

```bash
curl -X POST -d 'username=admin&password=admin' -i http://<IP>:<PORT>/
```

**Respuesta esperada:**

```
Set-Cookie: PHPSESSID=c1nsa6op7vtk7kdis7bcnbadf1; path=/
```

**2. Usar esa cookie para navegar autenticado:**

```bash
curl -b 'PHPSESSID=c1nsa6op7vtk7kdis7bcnbadf1' http://<IP>:<PORT>/
```

ğŸ“Œ TambiÃ©n puedes enviarla como header:

```bash
curl -H 'Cookie: PHPSESSID=c1nsa6op7vtk7kdis7bcnbadf1' http://<IP>:<PORT>/
```

---

### ğŸ§  Ver y modificar cookies con el navegador

1. Presiona `SHIFT+F9` â†’ pestaÃ±a **Storage**
    
2. Elige **Cookies** y selecciona tu dominio.
    
3. Puedes **editar** el valor de `PHPSESSID` para probar autenticaciÃ³n manual.
    

---

### ğŸ”„ InteracciÃ³n con POST JSON

ğŸ“Œ Al usar la funciÃ³n de bÃºsqueda (por ciudad), el request se hace en formato `JSON`:

```json
{"search":"london"}
```

**cURL equivalente:**

```bash
curl -X POST -d '{"search":"london"}' \
  -b 'PHPSESSID=...' \
  -H 'Content-Type: application/json' \
  http://<IP>:<PORT>/search.php
```

---

### âš™ï¸ Generar POST con DevTools

1. Usa la pestaÃ±a **Network** (F12 o Ctrl+Shift+E)
    
2. Filtra por IP o endpoint (`search.php`)
    
3. Clic derecho > `Copy as cURL` o `Copy as Fetch`
    

**Consola del navegador:**

```javascript
fetch("http://<IP>:<PORT>/search.php", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Cookie": "PHPSESSID=..."
  },
  body: JSON.stringify({ search: "london" })
})
```

---

### ğŸš€ Resumen de Comandos Ãºtiles

|AcciÃ³n|Comando|
|---|---|
|Login (POST)|`curl -X POST -d 'user=admin&pass=admin' URL`|
|Ver cookie autenticada|`curl -i ...`|
|Usar cookie autenticada|`curl -b 'PHPSESSID=...' URL`|
|POST con JSON|`curl -X POST -d '{...}' -H 'Content-Type: application/json' ...`|
|Seguir redirecciones|`curl -L ...`|

---

